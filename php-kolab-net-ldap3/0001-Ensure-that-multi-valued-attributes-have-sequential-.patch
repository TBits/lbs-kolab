From e049b764a5adbf14bd14df081e4ecd08d06bc678 Mon Sep 17 00:00:00 2001
From: "Jeroen van Meeuwen (Kolab Systems)" <vanmeeuwen@kolabsys.com>
Date: Thu, 22 Oct 2015 11:20:19 +0200
Subject: [PATCH] Ensure that multi-valued attributes have sequential indexes
 in the array

---
 lib/Net/LDAP3.php | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/lib/Net/LDAP3.php b/lib/Net/LDAP3.php
index a3e9f79..5ecce1e 100644
--- a/lib/Net/LDAP3.php
+++ b/lib/Net/LDAP3.php
@@ -199,6 +199,8 @@ class Net_LDAP3
         foreach ($attributes as $attr_name => $attr_value) {
             if (empty($attr_value)) {
                 unset($attributes[$attr_name]);
+            } else if (is_array($attr_value)) {
+                $attributes[$attr_name] = array_values($attr_value);
             }
         }
 
-- 
2.4.3

