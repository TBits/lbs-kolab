From 297c7097833f10c70b4b3f928dbc6166282b947b Mon Sep 17 00:00:00 2001
From: Aaron Seigo <aseigo@kde.org>
Date: Mon, 20 Jun 2016 16:49:55 +0200
Subject: [PATCH 1/3] there is only ever one response. be strict about that.

---
 src/commands/eimap_command_capability.erl | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/commands/eimap_command_capability.erl b/src/commands/eimap_command_capability.erl
index 8f9d12e..a1b50c9 100644
--- a/src/commands/eimap_command_capability.erl
+++ b/src/commands/eimap_command_capability.erl
@@ -25,8 +25,8 @@
 new_command(parse_serverid) -> { <<"CAPABILITY">>, single_line_response };
 new_command(_Args) -> { <<"CAPABILITY">>, multiline_response }.
 
-process_line(<<"* CAPABILITY ", Data/binary>>, Acc) ->
-    [Data|Acc];
+process_line(<<"* CAPABILITY ", Data/binary>>, _Acc) ->
+    [Data];
 process_line(_Data, Acc) -> Acc.
 
 formulate_response(ok, Response) -> { fini, Response };
-- 
2.5.5

